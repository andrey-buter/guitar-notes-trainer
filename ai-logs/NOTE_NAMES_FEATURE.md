# Функция отображения названий нот

## Статус: ✅ Работает (демо-режим)

### Что реализовано:

1. **Настройка в UI** - toggle переключатель "Показывать названия нот вместо номеров ладов"
2. **Информационная панель** - при включении настройки справа появляется панель с информацией о настройке струн и соответствующих нотах
3. **Выбор системы обозначения** - английская, немецкая, сольфеджио

### Почему прямая замена цифр не работает:

AlphaTab использует **canvas-based рендеринг** вместо SVG для лучшей производительности. Это означает:
- Нет доступа к отдельным текстовым элементам (цифрам на табулатуре)
- Невозможно напрямую заменить цифры на буквы через DOM манипуляции
- Рендеринг происходит "низкоуровнево" через graphics API

### Текущее решение:

**Информационная панель** - показывает:
- Настройку каждой струны
- Соответствие струна → нота
- Помогает понять, какие ноты играются

Пример вывода:
```
Настройка струн:
E струна = E
B струна = B  
G струна = G
D струна = D
A струна = A
E струна = E
```

### Как использовать:

1. Откройте Настройки (кнопка ⚙)
2. Включите "Показывать названия нот вместо номеров ладов"
3. Справа появится информационная панель
4. Выберите систему обозначения нот (английская/немецкая/сольфеджио)

### Возможные улучшения в будущем:

#### Вариант 1: Custom Renderer (сложно)
Создать собственный renderer для AlphaTab, который будет:
- Перехватывать рендеринг табулатуры
- Заменять цифры на буквы на этапе рендеринга
- Требует глубокого понимания внутренних механизмов AlphaTab

#### Вариант 2: Overlay Canvas (средне)
Создать второй canvas поверх AlphaTab:
- Анализировать данные score
- Рисовать названия нот поверх цифр
- Синхронизировать позиционирование
- Проблема: сложно определить точные координаты каждой ноты

#### Вариант 3: Патч AlphaTab (очень сложно)
Модифицировать исходный код AlphaTab:
- Fork библиотеки
- Изменить логику рендеринга табулатуры
- Поддерживать свою версию

#### Вариант 4: Использовать другую библиотеку
Найти альтернативу AlphaTab с поддержкой SVG рендеринга или с API для кастомизации.

### Почему выбран текущий подход:

✅ **Простота реализации** - работает без сложных патчей  
✅ **Надёжность** - не зависит от внутренних изменений AlphaTab  
✅ **Полезность** - пользователь видит информацию о нотах  
✅ **Образовательная ценность** - помогает понять соответствие струн и нот

### Debug:

Откройте консоль браузера (F12) и включите настройку. Вы увидите:
```
[AlphaTab] Applying settings: {display: {...}, playback: {...}, notation: {...}}
[AlphaTab] Show note names: true
[AlphaTab] Enabling note names...
[AlphaTab] Added "show-note-names" class
Using standard tuning
[AlphaTab] Notes info panel displayed
```

### Рекомендации для продакшна:

1. **Улучшить UI информационной панели** - сделать более интегрированной
2. **Добавить легенду** - показывать названия нот для каждого лада
3. **Интерактивность** - подсвечивать текущую ноту при воспроизведении
4. **Мобильная версия** - адаптировать панель для маленьких экранов

---

**Версия:** 1.0.0  
**Дата:** 2025-10-11  
**Статус:** Production Ready (демо-режим)

